<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            height: 100vh;
            width: 100%;
        }
        .container{
            height: auto;
            width: auto;
            background-color: rgb(132, 107, 230);
            border-radius: 10px;
        }
        .password-toggle {
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            cursor: pointer;
        }
        /* .is-invalid{
            animation: shake 0.1s linear 10;
        }
        @keyframes shake {
            0%{
                transform: translateX(0);
            }
            25%{
                transform: translateX(-2px);
            }
            50%{
                transform: translateX(0);
            }
            75%{
                transform: translateX(2px);
            }
            100%{
                transform: translateX(0);
            }
        } */
    </style>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha384-nvAa0jO3t5VST7w5F5e/Ky5m5r5G+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/822b82dc31.js" crossorigin="anonymous"></script>
</head>
<body style="background: linear-gradient(250deg, rgb(189, 189, 245),white); background-repeat: no-repeat; height: fit-content; width: 100%; background-size: cover;">
    <div class="container-fluid">
        <div style="align-items: center; text-align: center;">
            <h3>SignupForm</h3>
        </div>
        <div class="row">
            <div class="container pb-5">
                <div class="container mt-5" style="background-color: rgba(255, 255, 255, 0.5); border-radius: 10px;">
                    <form id="signupForm" class="pt-5 pb-5" method="get" onsubmit="return Validate()" action="result.html">
                        <div class="form-group">
                            <label for="firstname">First Name:</label>
                            <input type="text" id="firstname" name="firstname" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="lastname">Last Name:</label>
                            <input type="text" id="lastname" name="lastname" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="username">Username:</label>
                            <input type="text" id="username" name="username" class="form-control" required>
                            <small id="usernameHelp" class="form-text text-muted">Enter a username (6-16 characters long)</small>
                        </div>
                        <div class="form-group">
                            <label for="password">Password:</label>
                            <input type="password" id="password" name="password" class="form-control" required>
                            <span class="password-toggle" onclick="togglePasswordVisibility()" style="padding-right: 250px; padding-top: 150px;">
                                <i class="fa-solid fa-eye-slash" style="color: black;" id="icon"></i>
                            </span>
                            <small id="passwordHelp" class="form-text text-muted">Enter a password (only letters and hyphens)</small>
                        </div>                        
                        <div class="form-group">
                            <label for="confirmPassword">Confirm Password:</label>
                            <input type="text" id="confirmPassword" name="confirmPassword" class="form-control" required>
                            <small id="confirmPasswordHelp" class="form-text text-muted">Enter your password</small>
                        </div>
                        <label>Choose your Gender:</label>
                        <div style="display: flex;">
                            <div class="form-check pr-5">
                                <input class="form-check-input" type="radio" value="" id="radio1" name="radio">
                                <label class="form-check-label" for="radio1">Male</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" value="" id="radio2" name="radio">
                                <label class="form-check-label" for="radio2">Female</label>
                            </div>
                        </div>
                        <label>Programming Languages known:</label>
                        <div style="display: flex;">
                            <div class="form-check pr-5">
                                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault1" name="role">
                                <label class="form-check-label" for="flexCheckDefault1">Java</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault2" name="role">
                                <label class="form-check-label" for="flexCheckDefault2">Python</label>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary mt-3" id="submit">Signup</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and jQuery (optional, for Bootstrap features) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        let firstname = document.getElementById("firstname");
        let lastname = document.getElementById("lastname");
        let username = document.getElementById("username");
        let password = document.getElementById("password");
        let confirmPassword = document.getElementById("confirmPassword");
        let roles = document.querySelectorAll('input[name="role"]');
        let radio = document.querySelectorAll('input[name="radio"]');
        let regex_user = /^[a-zA-Z0-9]+$/;
        let regex_pass = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@.#$!%*?&])[A-Za-z\d@.#$!%*?&]{8,15}$/;
        let isValid = false;

        function isValidRadio() {
            return document.querySelector('input[name="radio"]:checked') !== null;
        }

        function isValidRole() {
            return document.querySelector('input[name="role"]:checked') !== null;
        }

        username.addEventListener('keyup',()=>{
            if (username.value.length == 0 || !regex_user.test(username.value)) {
                document.getElementById("usernameHelp").innerText = "Please enter a valid UserName (6-16 characters long)";
                username.classList.add('is-invalid');
                isValid = false;
            } else {
                isValid = true;
                document.getElementById("usernameHelp").innerText = "Enter a username";
                username.classList.remove('is-invalid');
            }
        });

        password.addEventListener('keyup',()=>{
            if (password.value.length == 0 || !regex_pass.test(password.value)) {
                document.getElementById("passwordHelp").innerText = "Please enter a valid Password (only letters numbers and symbols)";
                password.classList.add('is-invalid');
                isValid = false;
            } else {
                isValid = true;
                document.getElementById("passwordHelp").innerText = "Enter a password (only letters and hyphens)";
                password.classList.remove('is-invalid');
            }
        });

        confirmPassword.addEventListener('keyup',()=>{
            if (password.value != confirmPassword.value) {
                document.getElementById("confirmPasswordHelp").innerText = "Passwords do not match.";
                confirmPassword.classList.add('is-invalid');
                isValid = false;
            } else {
                isValid = true;
                document.getElementById("confirmPasswordHelp").innerText = "Enter your password";
                confirmPassword.classList.remove('is-invalid');
            }
        });

        function Validate() {
            if(firstname.value.length == 0) {
                alert("Enter your first name");
                isValid = false;
            } else {
                isValid = true;
            }

            if(lastname.value.length == 0) {
                alert("Enter your last name");
                isValid = false;
            } else {
                isValid = true;
            }

            if(!isValidRadio()) {
                alert("Please choose your gender");
                isValid = false;
            } else {
                isValid = true;
            }

            if(!isValidRole()) {
                alert("Please specify programming languages");
                isValid = false;
            } else {
                isValid = true;
            }

            console.log(isValid);
            alert('Form submitted successfully');
            return isValid;
        }

        function togglePasswordVisibility() {
            let El = document.getElementById('icon');
            if(El.className=="fa-solid fa-eye") {
                password.type="password";
                El.className="fa-solid fa-eye-slash";
            }
            else {
                El.className="fa-solid fa-eye";
                password.type="text";
            }
        }
    </script>
</body>
</html>